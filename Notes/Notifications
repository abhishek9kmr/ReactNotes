import React from 'react';
import {View, Text, StyleSheet, Image, ScrollView} from 'react-native';

const styles = StyleSheet.create({
  dateContainer: {
    marginVertical: 10,
    //borderWidth: 2,
  },
  dateText: {
    fontSize: 18,
    fontWeight: 'bold',
    marginBottom: 20,
    marginLeft: 10,
  },
  itemHeading: {
    fontSize: 16,
    fontWeight: '700',
  },
  itemContainer: {
    flexDirection: 'row',
    marginLeft: 10,
    // marginVertical: 5,
    backgroundColor: 'white',
    borderBottomColor: 'Grey',
    //borderBottomWidth: 0.5,
    padding: 10,
    borderRadius: 10,
    alignItems: 'center',
  },
  itemText: {
    fontSize: 13,
    color: 'grey',
  },
  imgContainer: {
    height: 50,
    width: 50,
    marginLeft: 5,
    marginRight: 10,
  },
});

const data = [
  {
    id: 1,
    heading: "Today's special offer",
    detail: 'Integer semper pulvinar ultricies 40%',
    day: 'Today',
    img: require('./Icons/percent.png'),
  },
  {
    id: 2,
    heading: 'Payment Successful',
    detail: 'Ornare arcu fermentum ac debit card',
    day: 'Today',
    img: require('./Icons/card.png'),
  },
  {
    id: 3,
    heading: 'Appointment created successfully',
    detail: 'Vivamus dignissim orci dolor Miles Tone',
    day: 'Today',
    img: require('./Icons/tick.png'),
  },
  {
    id: 4,
    heading: "Today's special offer",
    detail: 'Phasellus ex elit porttitor 25%',
    day: 'Yesterday',
    img: require('./Icons/percent.png'),
  },
  {
    id: 5,
    heading: 'New Service Category Added',
    detail: 'Praesent venenatis fermentum orci',
    day: 'Yesterday',
    img: require('./Icons/tick.png'),
  },
  {
    id: 6,
    heading: 'Credit Card Enrolled Successfully',
    detail: 'Donec tempus risus nec cursus ornare',
    day: 'Yesterday',
    img: require('./Icons/options.png'),
  },
  {
    id: 7,
    heading: 'Email Address Confirmed',
    detail: 'Sed rhoncus massa quis enim auctor mail',
    day: 'Yesterday',
    img: require('./Icons/email.png'),
  },
  {
    id: 7,
    heading: 'Profile Update Successful',
    detail: 'Praesent euismod ex quam',
    day: 'August 21, 2022',
    img: require('./Icons/profile.png'),
  },
];

const App = () => {
  const groupedData = data.reduce((acc, item) => {
    if (!acc[item.day]) {
      acc[item.day] = [];
    }
    acc[item.day].push(item);
    return acc;
  }, {});

  console.log('groupedData', groupedData);

  return (
    <ScrollView>
      {Object.entries(groupedData).map(([day, items]) => (
        <View key={day} style={styles.dateContainer}>
          <Text style={styles.dateText}>{day}</Text>
          {items.map(item => (
            <View key={item.id} style={styles.itemContainer}>
              <Image source={item.img} style={styles.imgContainer} />
              <View>
                <Text style={styles.itemHeading}>{item.heading}</Text>
                <Text style={styles.itemText}>{item.detail}</Text>
              </View>
            </View>
          ))}
        </View>
      ))}
    </ScrollView>
  );
};

export default App;
